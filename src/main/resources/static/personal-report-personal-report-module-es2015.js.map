{"version":3,"sources":["./src/app/personal-report/personal-report-routing.module.ts","./src/app/personal-report/personal-report.module.ts","./src/app/personal-report/personal-report.page.ts","./src/app/personal-report/personal-report.page.html"],"names":[],"mappings":"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","file":"personal-report-personal-report-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PersonalReportPage } from './personal-report.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PersonalReportPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PersonalReportPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PersonalReportPageRoutingModule } from './personal-report-routing.module';\n\nimport { PersonalReportPage } from './personal-report.page';\nimport {HighchartsChartModule} from 'highcharts-angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PersonalReportPageRoutingModule,\n    HighchartsChartModule,\n  ],\n  declarations: [PersonalReportPage]\n})\nexport class PersonalReportPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport * as Highcharts from 'highcharts';\nimport {MoodQuestion, QuestionService} from '../services/question.service';\n\n@Component({\n    selector: 'app-personal-report',\n    templateUrl: './personal-report.page.html',\n    styleUrls: ['./personal-report.page.scss'],\n})\nexport class PersonalReportPage implements OnInit {\n    Highcharts: typeof Highcharts = Highcharts;\n    chartOptions: Highcharts.Options;\n\n    moodQuestions: Array<MoodQuestion> = [];\n    labels: {};\n\n    constructor(private readonly questionService: QuestionService) {\n    }\n\n    async ngOnInit() {\n        const user = JSON.parse(window.localStorage.getItem('user'));\n        this.moodQuestions = await this.questionService.loadUserMoodQuestions(user.id);\n        this.labels = this.questionService.getAllMoodQuestions().reduce((acc, q) => {\n            return {\n                ...acc,\n                [q.id]: q.question,\n            };\n        }, {});\n\n        this.showChart();\n    }\n\n    showChart() {\n        this.chartOptions = {\n            chart: {\n                zoomType: 'x',\n            },\n            title: {\n                text: '',\n            },\n            xAxis: {\n                type: 'datetime',\n            },\n            yAxis: {\n                title: {\n                    text: 'Stimmung',\n                },\n            },\n            legend: {\n                enabled: true,\n            },\n            plotOptions: {\n                area: {\n\n                    marker: {\n                        radius: 2,\n                    },\n                    lineWidth: 1,\n                    states: {\n                        hover: {\n                            lineWidth: 1,\n                        },\n                    },\n                    threshold: null,\n                },\n            },\n\n            series: Object.entries(this.moodQuestions).map(([id, plot]) => {\n                return {\n                    type: 'line',\n                    name: this.labels[id],\n                    data: ((plot || []) as any).map((d) => {\n                        try {\n                            return [Date.parse(d[0]), d[1]];\n                        } catch (e) {\n                            return [];\n                        }\n                    }).sort((a, b) => {\n                        return a[0] < b[0] ? 1 : -1;\n                    }).slice(0, 7),\n                };\n            }),\n        };\n\n    }\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>\n            Deine Auswertung\n        </ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <div style=\"display: flex; justify-content: center;\">\n        <highcharts-chart\n                *ngIf=\"chartOptions\"\n                [Highcharts]=\"Highcharts\"\n                [options]=\"chartOptions\"\n                style=\"width: 100%; height: 400px; display: block;\"\n        ></highcharts-chart>\n\n    </div>\n\n</ion-content>\n"],"sourceRoot":"webpack:///"}