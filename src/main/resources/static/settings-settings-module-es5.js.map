{"version":3,"sources":["src/app/settings/settings.page.html","src/app/settings/settings-routing.module.ts","src/app/settings/settings.module.ts","src/app/settings/settings.page.scss","src/app/settings/settings.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n    <ion-header>\\n        <ion-toolbar>\\n            <ion-buttons slot=\\\"start\\\">\\n                <ion-menu-button></ion-menu-button>\\n            </ion-buttons>\\n            <ion-title>Einstellungen</ion-title>\\n        </ion-toolbar>\\n    </ion-header>\\n</ion-header>\\n\\n<ion-content>\\n    <form *ngIf=\\\"(settings$ | async) as settings\\\">\\n\\n        <ion-item-group>\\n\\n            <ion-item *ngIf=\\\"(user | async)?.id as userId\\\">\\n                <ion-label>\\n                    Deine Benutzer-ID<br/>\\n                </ion-label>\\n                <ion-badge (click)=\\\"copyUserIdToClipboard(userId)\\\">{{userId}}</ion-badge>\\n            </ion-item>\\n\\n            <ion-item>\\n                <ion-label>\\n                    Erinnerungsnachricht<br/>\\n                    <small>Gerne erinnern wir dich daran deine Stimmungs- und Aktivit√§tsfragen zu beantworten.</small>\\n                </ion-label>\\n                <ion-toggle\\n                        color=\\\"primary\\\"\\n                        name=\\\"reminderPushNotification.enabled\\\"\\n                        [value]=\\\"true\\\"\\n                        [checked]=\\\"settings.reminderPushNotification.enabled\\\"\\n                        (ionChange)=\\\"settingsService.set($event.target.name, $event.detail.checked)\\\"></ion-toggle>\\n            </ion-item>\\n\\n            <!--<ion-item [disabled]=\\\"!settings.enablePush\\\">\\n                <ion-label>\\n                    An welchen Tagen?\\n                </ion-label>\\n                <ion-select placeholder=\\\"Mo, Di, Mi, Do, Fr, Sa, So\\\" multiple>\\n                    <ion-select-option value=\\\"MO\\\">Mo</ion-select-option>\\n                    <ion-select-option value=\\\"DI\\\">Di</ion-select-option>\\n                    <ion-select-option value=\\\"MI\\\">Mi</ion-select-option>\\n                    <ion-select-option value=\\\"DO\\\">Do</ion-select-option>\\n                    <ion-select-option value=\\\"FR\\\">Fr</ion-select-option>\\n                    <ion-select-option value=\\\"SA\\\">Sa</ion-select-option>\\n                    <ion-select-option value=\\\"SO\\\">So</ion-select-option>\\n                </ion-select>\\n            </ion-item>-->\\n\\n            <ion-item [disabled]=\\\"!settings.reminderPushNotification.enabled\\\">\\n                <ion-label>\\n                    Um wie viel Uhr?\\n                </ion-label>\\n                <ion-datetime\\n                        display-format=\\\"HH:mm\\\"\\n                        picker-format=\\\"HH:mm\\\"\\n                        placeholder=\\\"20:00\\\"\\n                        [value]=\\\"settings.reminderPushNotification.time\\\"\\n                        (ionChange)=\\\"setReminderPushNotificationTime($event.target.value)\\\"></ion-datetime>\\n            </ion-item>\\n\\n        </ion-item-group>\\n\\n    </form>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule,\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \"ion-label small {\\n  display: inline-block;\\n  white-space: normal;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rc2NoZWNrZXIvUHJvamVjdHMvd2lydnN2aXJ1cy93aWVnZWh0cy9zcmMvYXBwL3NldHRpbmdzL3NldHRpbmdzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UscUJBQUE7RUFDQSxtQkFBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWxhYmVsIHtcbiAgc21hbGwge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICB9XG59XG4iLCJpb24tbGFiZWwgc21hbGwge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG59Il19 */\"","import {Component} from '@angular/core';\nimport {ToastController} from '@ionic/angular';\n\nimport {UserService} from '../services/user.service';\nimport {Plugins} from '@capacitor/core';\nimport {SettingsService} from '../services/settings.service';\nimport {map} from 'rxjs/operators';\nimport {NotificationService} from '../services/notification.service';\n\nconst {Clipboard} = Plugins;\n\n@Component({\n    selector: 'app-settings',\n    templateUrl: './settings.page.html',\n    styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage {\n\n    private readonly settings: {\n        enablePush: boolean\n    } = {\n        enablePush: true,\n    };\n\n    private readonly user = this.userService.loadUser();\n    private readonly settings$ = this.settingsService.settings$.pipe(map(s => {\n        return {\n            ...s,\n            reminderPushNotification: {\n                ...s.reminderPushNotification,\n                time: (() => {\n                    const date = new Date();\n                    date.setHours(s.reminderPushNotification.time.hour);\n                    date.setMinutes(s.reminderPushNotification.time.minute);\n                    return date.toISOString();\n                })(),\n            },\n        };\n    }));\n\n    constructor(\n        private readonly userService: UserService,\n        private readonly settingsService: SettingsService,\n        private readonly notificationService: NotificationService,\n        private readonly toastController: ToastController,\n    ) {\n\n    }\n\n    private async copyUserIdToClipboard(userId: string) {\n        await Clipboard.write({\n            string: userId,\n        });\n\n        (await this.toastController.create({\n            position: 'top',\n            color: 'primary',\n            translucent: false,\n            message: 'Benutzer-ID kopiert',\n            duration: 2000,\n        })).present();\n    }\n\n    private async setReminderPushNotificationTime(time: string) {\n        if (this.settings.enablePush) {\n            const date = new Date(time);\n\n            this.settingsService.set('reminderPushNotification.time', {\n                hour: date.getHours(),\n                minute: date.getMinutes(),\n            });\n        }\n    }\n\n}\n"],"sourceRoot":"webpack:///","file":"settings-settings-module-es5.js"}