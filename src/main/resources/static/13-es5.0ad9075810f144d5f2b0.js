function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/9aa":function(n,e,t){var o=t("NykK"),i=t("ExA7");n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==o(n)}},AP2z:function(n,e,t){var o=t("nmnc"),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;n.exports=function(n){var e=r.call(n,s),t=n[s];try{n[s]=void 0;var o=!0}catch(c){}var i=a.call(n);return o&&(e?n[s]=t:delete n[s]),i}},ExA7:function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},GoyQ:function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},KfNM:function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},Kz5y:function(n,e,t){var o=t("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();n.exports=r},NykK:function(n,e,t){var o=t("nmnc"),i=t("AP2z"),r=t("KfNM"),a=o?o.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?i(n):r(n)}},QIyF:function(n,e,t){var o=t("Kz5y");n.exports=function(){return o.Date.now()}},RtRw:function(n,e,t){"use strict";t.r(e);var o,i=t("ofXK"),r=t("3Pt+"),a=t("TEn/"),s=t("tyNb"),c=t("mrSG"),u=t("sEfC"),l=t.n(u),b=t("fXoL"),f=t("tk/3"),p=((o=function(){function n(e){_classCallCheck(this,n),this.http=e,this.baseUrl="http://".concat(window.location.hostname,":8080")}return _createClass(n,[{key:"save",value:function(n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.post(this.baseUrl+"/questionnaire",n).toPromise();case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)})))}}]),n}()).\u0275fac=function(n){return new(n||o)(b.Sb(f.a))},o.\u0275prov=b.Fb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),h=t("qfBg"),g=t("UcdY");function d(n,e){if(1&n){var t=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.jc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",3),b.Wb("ionChange",(function(n){b.fc(t);var o=e.$implicit;return b.Yb().onRangeChange(o.id,n.detail.value)})),b.Ob(7,"ion-label",4),b.jc(8,"0\ufe0f\u20e3"),b.Nb(),b.Ob(9,"ion-label",5),b.jc(10),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){var o=e.$implicit;b.zb(4),b.lc(" ",o.question," "),b.zb(6),b.kc(o.emoji)}}var v,m=((v=function(){function n(e){_classCallCheck(this,n),this.questionService=e,this.questions=[],this.onChange=new b.n}return _createClass(n,[{key:"ngOnInit",value:function(){this.questions=this.questionService.getAllMoodQuestions()}},{key:"onRangeChange",value:function(n,e){this.onChange.emit(this.questions.map((function(t){return t.id===n&&(t.value=e),t})))}}]),n}()).\u0275fac=function(n){return new(n||v)(b.Jb(g.a))},v.\u0275cmp=b.Db({type:v,selectors:[["quest-form"]],outputs:{onChange:"onChange"},decls:6,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["color","danger","pin","true",3,"ionChange"],["slot","start",1,"emoji"],["slot","end",1,"emoji"]],template:function(n,e){1&n&&(b.Ob(0,"ion-grid"),b.ic(1,d,11,2,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.jc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",e.questions))},directives:[a.j,i.h,a.v,a.f,a.e,a.L,s.h,a.p,a.q,a.t,a.M],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),v);function O(n,e){if(1&n){var t=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.jc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",3,4),b.Wb("ionChange",(function(n){b.fc(t);var o=e.$implicit,i=b.ec(7);return b.Yb().onRangeChange(i,o.id,n.detail.value)})),b.Ob(8,"ion-label",5),b.jc(9,"0\ufe0f\u20e3"),b.Nb(),b.Ob(10,"ion-label",6),b.jc(11),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){var o=e.$implicit;b.zb(4),b.lc(" ",o.question," "),b.zb(2),b.bc("max",1200)("step",15)("snaps",!0),b.zb(5),b.kc(o.emoji)}}var y,C=((y=function(){function n(e){_classCallCheck(this,n),this.questionService=e,this.questions=[],this.onChange=new b.n}return _createClass(n,[{key:"ngOnInit",value:function(){this.questions=this.questionService.getAllHealthQuestions()}},{key:"onRangeChange",value:function(n,e,t){var o=new Date(0,0);o.setMinutes(n.value),n.el.shadowRoot.querySelector(".range-knob-handle .range-pin").innerHTML=o.toTimeString().slice(0,5),this.onChange.emit(this.questions.map((function(n){return n.id===e&&(n.value={hours:t,minutes:0}),n})))}}]),n}()).\u0275fac=function(n){return new(n||y)(b.Jb(g.a))},y.\u0275cmp=b.Db({type:y,selectors:[["quest-health"]],outputs:{onChange:"onChange"},decls:6,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["color","danger","pin","true",3,"max","step","snaps","ionChange"],["slider",""],["slot","start",1,"emoji"],["slot","end",1,"emoji"]],template:function(n,e){1&n&&(b.Ob(0,"ion-grid"),b.ic(1,O,12,5,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.jc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",e.questions))},directives:[a.j,i.h,a.v,a.f,a.e,a.L,s.h,a.p,a.q,a.t,a.M],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),y);function w(n,e){if(1&n){var t=b.Pb();b.Ob(0,"quest-form",5),b.Wb("onChange",(function(n){return b.fc(t),b.Yb().onMoodResponse(n)})),b.Nb()}}function N(n,e){if(1&n){var t=b.Pb();b.Ob(0,"quest-health",5),b.Wb("onChange",(function(n){return b.fc(t),b.Yb().onHealthResponse(n)})),b.Nb()}}var j,k,x=[{path:"",component:(j=function(){function n(e,t){_classCallCheck(this,n),this.userService=e,this.questService=t,this.moode=!0}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.state={userId:this.userService.user.id,responseDate:(new Date).toISOString().substring(0,10),moodResponses:[],healthResponses:[]},this.debouncedSave=l()((function(){n.questService.save(n.state)}),200)}},{key:"onMoodResponse",value:function(n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.moodResponses=n.map((function(n){return{questionId:n.id,response:n.value}})),this.debouncedSave();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onHealthResponse",value:function(n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.healthResponses=n.map((function(n){return{questionId:n.id,response:n.value}})),this.debouncedSave();case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(),j.\u0275fac=function(n){return new(n||j)(b.Jb(h.a),b.Jb(p))},j.\u0275cmp=b.Db({type:j,selectors:[["app-questionnaire"]],inputs:{moode:"moode"},decls:14,vars:5,consts:[["size","12"],["color","primary",3,"ngModel","value","ngModelChange"],[3,"ngSwitch"],[3,"onChange",4,"ngSwitchCase"],[3,"onChange",4,"ngSwitchDefault"],[3,"onChange"]],template:function(n,e){1&n&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-title"),b.jc(3,"questionnaire"),b.Nb(),b.Nb(),b.Nb(),b.Ob(4,"ion-content"),b.Ob(5,"ion-grid"),b.Ob(6,"ion-col",0),b.Ob(7,"ion-item"),b.Ob(8,"ion-label"),b.jc(9,"Mood enabled:"),b.Nb(),b.Ob(10,"ion-toggle",1),b.Wb("ngModelChange",(function(n){return e.moode=n})),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Mb(11,2),b.ic(12,w,1,0,"quest-form",3),b.ic(13,N,1,0,"quest-health",4),b.Lb(),b.Nb()),2&n&&(b.zb(10),b.bc("ngModel",e.moode)("value","mood"),b.zb(1),b.bc("ngSwitch",e.moode),b.zb(1),b.bc("ngSwitchCase",!0),b.zb(1),b.bc("ngSwitchDefault",!1))},directives:[a.k,a.F,a.D,a.g,a.j,a.f,a.o,a.q,a.E,a.c,r.e,r.h,i.j,i.k,i.l,m,C],styles:[""]}),j)}],q=((k=function n(){_classCallCheck(this,n)}).\u0275mod=b.Hb({type:k}),k.\u0275inj=b.Gb({factory:function(n){return new(n||k)},imports:[[s.i.forChild(x)],s.i]}),k);t.d(e,"QuestionnairePageModule",(function(){return M}));var S,M=((S=function n(){_classCallCheck(this,n)}).\u0275mod=b.Hb({type:S}),S.\u0275inj=b.Gb({factory:function(n){return new(n||S)},imports:[[i.b,r.a,a.G,q]]}),S)},WFqU:function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},nmnc:function(n,e,t){var o=t("Kz5y");n.exports=o.Symbol},sEfC:function(n,e,t){var o=t("GoyQ"),i=t("QIyF"),r=t("tLB3"),a=Math.max,s=Math.min;n.exports=function(n,e,t){var c,u,l,b,f,p,h=0,g=!1,d=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function m(e){var t=c,o=u;return c=u=void 0,h=e,b=n.apply(o,t)}function O(n){return h=n,f=setTimeout(C,e),g?m(n):b}function y(n){var t=n-p;return void 0===p||t>=e||t<0||d&&n-h>=l}function C(){var n=i();if(y(n))return w(n);f=setTimeout(C,function(n){var t=e-(n-p);return d?s(t,l-(n-h)):t}(n))}function w(n){return f=void 0,v&&c?m(n):(c=u=void 0,b)}function N(){var n=i(),t=y(n);if(c=arguments,u=this,p=n,t){if(void 0===f)return O(p);if(d)return clearTimeout(f),f=setTimeout(C,e),m(p)}return void 0===f&&(f=setTimeout(C,e)),b}return e=r(e)||0,o(t)&&(g=!!t.leading,l=(d="maxWait"in t)?a(r(t.maxWait)||0,e):l,v="trailing"in t?!!t.trailing:v),N.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=p=u=f=void 0},N.flush=function(){return void 0===f?b:w(i())},N}},tLB3:function(n,e,t){var o=t("GoyQ"),i=t("/9aa"),r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return NaN;if(o(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=o(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(r,"");var t=s.test(n);return t||c.test(n)?u(n.slice(2),t?2:8):a.test(n)?NaN:+n}}}]);