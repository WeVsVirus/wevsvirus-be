(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/9aa":function(n,t,e){var o=e("NykK"),i=e("ExA7");n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==o(n)}},AP2z:function(n,t,e){var o=e("nmnc"),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,a=o?o.toStringTag:void 0;n.exports=function(n){var t=r.call(n,a),e=n[a];try{n[a]=void 0;var o=!0}catch(c){}var i=s.call(n);return o&&(t?n[a]=e:delete n[a]),i}},ExA7:function(n,t){n.exports=function(n){return null!=n&&"object"==typeof n}},GoyQ:function(n,t){n.exports=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},KfNM:function(n,t){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},Kz5y:function(n,t,e){var o=e("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();n.exports=r},NykK:function(n,t,e){var o=e("nmnc"),i=e("AP2z"),r=e("KfNM"),s=o?o.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":s&&s in Object(n)?i(n):r(n)}},QIyF:function(n,t,e){var o=e("Kz5y");n.exports=function(){return o.Date.now()}},RtRw:function(n,t,e){"use strict";e.r(t);var o=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),a=e("mrSG"),c=e("sEfC"),u=e.n(c),b=e("fXoL"),l=e("tk/3");let f=(()=>{class n{constructor(n){this.http=n,this.baseUrl=`http://${window.location.hostname}:8080`}save(n){return Object(a.a)(this,void 0,void 0,(function*(){return yield this.http.post(this.baseUrl+"/questionnaire",n).toPromise(),n}))}}return n.\u0275fac=function(t){return new(t||n)(b.Sb(l.a))},n.\u0275prov=b.Fb({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var p=e("qfBg"),d=e("UcdY");function g(n,t){if(1&n){const n=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.kc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",4),b.Wb("ionChange",(function(e){b.gc(n);const o=t.$implicit;return b.Yb().onRangeChange(o.id,e.detail.value)})),b.Ob(7,"ion-label",5),b.kc(8),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){const n=t.$implicit;b.zb(4),b.mc(" ",n.question," "),b.zb(4),b.lc(n.emoji)}}let h=(()=>{class n{constructor(n){this.questionService=n,this.questions=[],this.onChange=new b.n}ngOnInit(){this.questions=this.questionService.getAllMoodQuestions()}onRangeChange(n,t){this.onChange.emit(this.questions.map(e=>(e.id===n&&(e.value=t),e)))}}return n.\u0275fac=function(t){return new(t||n)(b.Jb(d.a))},n.\u0275cmp=b.Db({type:n,selectors:[["quest-form"]],outputs:{onChange:"onChange"},decls:9,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["expand","full","routerLink","schland"],["color","secondary","pin","true",3,"ionChange"],["slot","end",1,"emoji"]],template:function(n,t){1&n&&(b.Ob(0,"ion-grid"),b.jc(1,g,9,2,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.kc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Ob(6,"ion-col",1),b.Ob(7,"ion-button",3),b.kc(8,"Zur Heatmap"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",t.questions))},directives:[r.m,o.h,r.x,r.h,r.f,r.N,s.h,r.s,r.u,r.v,r.O],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),n})();function m(n,t){if(1&n){const n=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.kc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",4,5),b.Wb("ionChange",(function(e){b.gc(n);const o=t.$implicit,i=b.ec(7);return b.Yb().onRangeChange(i,o.id,e.detail.value)})),b.Ob(8,"ion-label",6),b.kc(9),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){const n=t.$implicit;b.zb(4),b.mc(" ",n.question," "),b.zb(2),b.bc("max",1200)("step",15)("snaps",!0),b.zb(3),b.lc(n.emoji)}}let v=(()=>{class n{constructor(n){this.questionService=n,this.questions=[],this.onChange=new b.n}ngOnInit(){this.questions=this.questionService.getAllHealthQuestions()}onRangeChange(n,t,e){const o=new Date(0,0);o.setMinutes(n.value),n.el.shadowRoot.querySelector(".range-knob-handle .range-pin").innerHTML=o.toTimeString().slice(0,5),this.onChange.emit(this.questions.map(n=>(n.id===t&&(n.value=e),n)))}}return n.\u0275fac=function(t){return new(t||n)(b.Jb(d.a))},n.\u0275cmp=b.Db({type:n,selectors:[["quest-health"]],outputs:{onChange:"onChange"},decls:9,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["expand","full","routerLink","schland"],["color","secondary","pin","true",3,"max","step","snaps","ionChange"],["slider",""],["slot","end",1,"emoji"]],template:function(n,t){1&n&&(b.Ob(0,"ion-grid"),b.jc(1,m,10,5,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.kc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Ob(6,"ion-col",1),b.Ob(7,"ion-button",3),b.kc(8,"Zur Heatmap"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",t.questions))},directives:[r.m,o.h,r.x,r.h,r.f,r.N,s.h,r.s,r.u,r.v,r.O],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),n})();function O(n,t){if(1&n){const n=b.Pb();b.Ob(0,"quest-form",6),b.Wb("onChange",(function(t){return b.gc(n),b.Yb().onMoodResponse(t)})),b.Nb()}}function y(n,t){if(1&n){const n=b.Pb();b.Ob(0,"quest-health",6),b.Wb("onChange",(function(t){return b.gc(n),b.Yb().onHealthResponse(t)})),b.Nb()}}const N=[{path:"",component:(()=>{class n{constructor(n,t){this.userService=n,this.questService=t,this.mode="moode"}ngOnInit(){this.state={userId:this.userService.user.id,responseDate:(new Date).toISOString().substring(0,10),moodResponses:[],healthResponses:[]},this.debouncedSave=u()(()=>{this.questService.save(this.state)},200)}onMoodResponse(n){return Object(a.a)(this,void 0,void 0,(function*(){this.state.moodResponses=n.map(({id:n,value:t})=>({questionId:n,response:t})),this.debouncedSave()}))}onHealthResponse(n){return Object(a.a)(this,void 0,void 0,(function*(){this.state.healthResponses=n.map(({id:n,value:t})=>({questionId:n,response:t})),this.debouncedSave()}))}}return n.\u0275fac=function(t){return new(t||n)(b.Jb(p.a),b.Jb(f))},n.\u0275cmp=b.Db({type:n,selectors:[["app-questionnaire"]],inputs:{mode:"mode"},decls:11,vars:3,consts:[[3,"value","ionChange"],["value","moode"],["value","health"],[3,"ngSwitch"],[3,"onChange",4,"ngSwitchCase"],[3,"onChange",4,"ngSwitchDefault"],[3,"onChange"]],template:function(n,t){1&n&&(b.Ob(0,"ion-content"),b.Ob(1,"ion-segment",0),b.Wb("ionChange",(function(n){return t.mode=n.detail.value})),b.Ob(2,"ion-segment-button",1),b.Ob(3,"ion-label"),b.kc(4,"Stimmung"),b.Nb(),b.Nb(),b.Ob(5,"ion-segment-button",2),b.Ob(6,"ion-label"),b.kc(7,"Aktivit\xe4t"),b.Nb(),b.Nb(),b.Nb(),b.Mb(8,3),b.jc(9,O,1,0,"quest-form",4),b.jc(10,y,1,0,"quest-health",5),b.Lb(),b.Nb()),2&n&&(b.zb(1),b.bc("value",t.mode),b.zb(7),b.bc("ngSwitch",t.mode),b.zb(1),b.bc("ngSwitchCase","moode"))},directives:[r.i,r.y,r.O,r.z,r.u,o.j,o.k,o.l,h,v],styles:[""]}),n})()}];let w=(()=>{class n{}return n.\u0275mod=b.Hb({type:n}),n.\u0275inj=b.Gb({factory:function(t){return new(t||n)},imports:[[s.i.forChild(N)],s.i]}),n})();e.d(t,"QuestionnairePageModule",(function(){return C}));let C=(()=>{class n{}return n.\u0275mod=b.Hb({type:n}),n.\u0275inj=b.Gb({factory:function(t){return new(t||n)},imports:[[o.b,i.a,r.K,w]]}),n})()},WFqU:function(n,t){var e="object"==typeof global&&global&&global.Object===Object&&global;n.exports=e},nmnc:function(n,t,e){var o=e("Kz5y");n.exports=o.Symbol},sEfC:function(n,t,e){var o=e("GoyQ"),i=e("QIyF"),r=e("tLB3"),s=Math.max,a=Math.min;n.exports=function(n,t,e){var c,u,b,l,f,p,d=0,g=!1,h=!1,m=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function v(t){var e=c,o=u;return c=u=void 0,d=t,l=n.apply(o,e)}function O(n){return d=n,f=setTimeout(N,t),g?v(n):l}function y(n){var e=n-p;return void 0===p||e>=t||e<0||h&&n-d>=b}function N(){var n=i();if(y(n))return w(n);f=setTimeout(N,function(n){var e=t-(n-p);return h?a(e,b-(n-d)):e}(n))}function w(n){return f=void 0,m&&c?v(n):(c=u=void 0,l)}function C(){var n=i(),e=y(n);if(c=arguments,u=this,p=n,e){if(void 0===f)return O(p);if(h)return clearTimeout(f),f=setTimeout(N,t),v(p)}return void 0===f&&(f=setTimeout(N,t)),l}return t=r(t)||0,o(e)&&(g=!!e.leading,b=(h="maxWait"in e)?s(r(e.maxWait)||0,t):b,m="trailing"in e?!!e.trailing:m),C.cancel=function(){void 0!==f&&clearTimeout(f),d=0,c=p=u=f=void 0},C.flush=function(){return void 0===f?l:w(i())},C}},tLB3:function(n,t,e){var o=e("GoyQ"),i=e("/9aa"),r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return NaN;if(o(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=o(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(r,"");var e=a.test(n);return e||c.test(n)?u(n.slice(2),e?2:8):s.test(n)?NaN:+n}}}]);