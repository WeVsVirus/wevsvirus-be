(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/9aa":function(n,t,e){var o=e("NykK"),i=e("ExA7");n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==o(n)}},AP2z:function(n,t,e){var o=e("nmnc"),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,c=o?o.toStringTag:void 0;n.exports=function(n){var t=r.call(n,c),e=n[c];try{n[c]=void 0;var o=!0}catch(a){}var i=s.call(n);return o&&(t?n[c]=e:delete n[c]),i}},ExA7:function(n,t){n.exports=function(n){return null!=n&&"object"==typeof n}},GoyQ:function(n,t){n.exports=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},KfNM:function(n,t){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},Kz5y:function(n,t,e){var o=e("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();n.exports=r},NykK:function(n,t,e){var o=e("nmnc"),i=e("AP2z"),r=e("KfNM"),s=o?o.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":s&&s in Object(n)?i(n):r(n)}},QIyF:function(n,t,e){var o=e("Kz5y");n.exports=function(){return o.Date.now()}},RtRw:function(n,t,e){"use strict";e.r(t);var o=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),c=e("mrSG"),a=e("sEfC"),u=e.n(a),b=e("fXoL"),l=e("tk/3");let f=(()=>{class n{constructor(n){this.http=n,this.baseUrl=`http://${window.location.hostname}:8080`}save(n){return Object(c.a)(this,void 0,void 0,(function*(){return yield this.http.post(this.baseUrl+"/questionnaire",n).toPromise(),n}))}}return n.\u0275fac=function(t){return new(t||n)(b.Sb(l.a))},n.\u0275prov=b.Fb({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var p=e("qfBg"),d=e("UcdY");function g(n,t){if(1&n){const n=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.jc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",3),b.Wb("ionChange",(function(e){b.fc(n);const o=t.$implicit;return b.Yb().onRangeChange(o.id,e.detail.value)})),b.Ob(7,"ion-label",4),b.jc(8,"0\ufe0f\u20e3"),b.Nb(),b.Ob(9,"ion-label",5),b.jc(10),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){const n=t.$implicit;b.zb(4),b.lc(" ",n.question," "),b.zb(6),b.kc(n.emoji)}}let h=(()=>{class n{constructor(n){this.questionService=n,this.questions=[],this.onChange=new b.n}ngOnInit(){this.questions=this.questionService.getAllMoodQuestions()}onRangeChange(n,t){this.onChange.emit(this.questions.map(e=>(e.id===n&&(e.value=t),e)))}}return n.\u0275fac=function(t){return new(t||n)(b.Jb(d.a))},n.\u0275cmp=b.Db({type:n,selectors:[["quest-form"]],outputs:{onChange:"onChange"},decls:6,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["color","danger","pin","true",3,"ionChange"],["slot","start",1,"emoji"],["slot","end",1,"emoji"]],template:function(n,t){1&n&&(b.Ob(0,"ion-grid"),b.ic(1,g,11,2,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.jc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",t.questions))},directives:[r.j,o.h,r.v,r.f,r.e,r.L,s.h,r.p,r.q,r.t,r.M],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),n})();function m(n,t){if(1&n){const n=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.jc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",3,4),b.Wb("ionChange",(function(e){b.fc(n);const o=t.$implicit,i=b.ec(7);return b.Yb().onRangeChange(i,o.id,e.detail.value)})),b.Ob(8,"ion-label",5),b.jc(9,"0\ufe0f\u20e3"),b.Nb(),b.Ob(10,"ion-label",6),b.jc(11),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){const n=t.$implicit;b.zb(4),b.lc(" ",n.question," "),b.zb(2),b.bc("max",1200)("step",15)("snaps",!0),b.zb(5),b.kc(n.emoji)}}let v=(()=>{class n{constructor(n){this.questionService=n,this.questions=[],this.onChange=new b.n}ngOnInit(){this.questions=this.questionService.getAllHealthQuestions()}onRangeChange(n,t,e){const o=new Date(0,0);o.setMinutes(n.value),n.el.shadowRoot.querySelector(".range-knob-handle .range-pin").innerHTML=o.toTimeString().slice(0,5),this.onChange.emit(this.questions.map(n=>(n.id===t&&(n.value={hours:e,minutes:0}),n)))}}return n.\u0275fac=function(t){return new(t||n)(b.Jb(d.a))},n.\u0275cmp=b.Db({type:n,selectors:[["quest-health"]],outputs:{onChange:"onChange"},decls:6,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["color","danger","pin","true",3,"max","step","snaps","ionChange"],["slider",""],["slot","start",1,"emoji"],["slot","end",1,"emoji"]],template:function(n,t){1&n&&(b.Ob(0,"ion-grid"),b.ic(1,m,12,5,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.jc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",t.questions))},directives:[r.j,o.h,r.v,r.f,r.e,r.L,s.h,r.p,r.q,r.t,r.M],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),n})();function O(n,t){if(1&n){const n=b.Pb();b.Ob(0,"quest-form",5),b.Wb("onChange",(function(t){return b.fc(n),b.Yb().onMoodResponse(t)})),b.Nb()}}function y(n,t){if(1&n){const n=b.Pb();b.Ob(0,"quest-health",5),b.Wb("onChange",(function(t){return b.fc(n),b.Yb().onHealthResponse(t)})),b.Nb()}}const N=[{path:"",component:(()=>{class n{constructor(n,t){this.userService=n,this.questService=t,this.moode=!0}ngOnInit(){this.state={userId:this.userService.user.id,responseDate:(new Date).toISOString().substring(0,10),moodResponses:[],healthResponses:[]},this.debouncedSave=u()(()=>{this.questService.save(this.state)},200)}onMoodResponse(n){return Object(c.a)(this,void 0,void 0,(function*(){this.state.moodResponses=n.map(({id:n,value:t})=>({questionId:n,response:t})),this.debouncedSave()}))}onHealthResponse(n){return Object(c.a)(this,void 0,void 0,(function*(){this.state.healthResponses=n.map(({id:n,value:t})=>({questionId:n,response:t})),this.debouncedSave()}))}}return n.\u0275fac=function(t){return new(t||n)(b.Jb(p.a),b.Jb(f))},n.\u0275cmp=b.Db({type:n,selectors:[["app-questionnaire"]],inputs:{moode:"moode"},decls:14,vars:5,consts:[["size","12"],["color","primary",3,"ngModel","value","ngModelChange"],[3,"ngSwitch"],[3,"onChange",4,"ngSwitchCase"],[3,"onChange",4,"ngSwitchDefault"],[3,"onChange"]],template:function(n,t){1&n&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-title"),b.jc(3,"questionnaire"),b.Nb(),b.Nb(),b.Nb(),b.Ob(4,"ion-content"),b.Ob(5,"ion-grid"),b.Ob(6,"ion-col",0),b.Ob(7,"ion-item"),b.Ob(8,"ion-label"),b.jc(9,"Mood enabled:"),b.Nb(),b.Ob(10,"ion-toggle",1),b.Wb("ngModelChange",(function(n){return t.moode=n})),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Mb(11,2),b.ic(12,O,1,0,"quest-form",3),b.ic(13,y,1,0,"quest-health",4),b.Lb(),b.Nb()),2&n&&(b.zb(10),b.bc("ngModel",t.moode)("value","mood"),b.zb(1),b.bc("ngSwitch",t.moode),b.zb(1),b.bc("ngSwitchCase",!0),b.zb(1),b.bc("ngSwitchDefault",!1))},directives:[r.k,r.F,r.D,r.g,r.j,r.f,r.o,r.q,r.E,r.c,i.e,i.h,o.j,o.k,o.l,h,v],styles:[""]}),n})()}];let w=(()=>{class n{}return n.\u0275mod=b.Hb({type:n}),n.\u0275inj=b.Gb({factory:function(t){return new(t||n)},imports:[[s.i.forChild(N)],s.i]}),n})();e.d(t,"QuestionnairePageModule",(function(){return j}));let j=(()=>{class n{}return n.\u0275mod=b.Hb({type:n}),n.\u0275inj=b.Gb({factory:function(t){return new(t||n)},imports:[[o.b,i.a,r.G,w]]}),n})()},WFqU:function(n,t){var e="object"==typeof global&&global&&global.Object===Object&&global;n.exports=e},nmnc:function(n,t,e){var o=e("Kz5y");n.exports=o.Symbol},sEfC:function(n,t,e){var o=e("GoyQ"),i=e("QIyF"),r=e("tLB3"),s=Math.max,c=Math.min;n.exports=function(n,t,e){var a,u,b,l,f,p,d=0,g=!1,h=!1,m=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function v(t){var e=a,o=u;return a=u=void 0,d=t,l=n.apply(o,e)}function O(n){return d=n,f=setTimeout(N,t),g?v(n):l}function y(n){var e=n-p;return void 0===p||e>=t||e<0||h&&n-d>=b}function N(){var n=i();if(y(n))return w(n);f=setTimeout(N,function(n){var e=t-(n-p);return h?c(e,b-(n-d)):e}(n))}function w(n){return f=void 0,m&&a?v(n):(a=u=void 0,l)}function j(){var n=i(),e=y(n);if(a=arguments,u=this,p=n,e){if(void 0===f)return O(p);if(h)return clearTimeout(f),f=setTimeout(N,t),v(p)}return void 0===f&&(f=setTimeout(N,t)),l}return t=r(t)||0,o(e)&&(g=!!e.leading,b=(h="maxWait"in e)?s(r(e.maxWait)||0,t):b,m="trailing"in e?!!e.trailing:m),j.cancel=function(){void 0!==f&&clearTimeout(f),d=0,a=p=u=f=void 0},j.flush=function(){return void 0===f?l:w(i())},j}},tLB3:function(n,t,e){var o=e("GoyQ"),i=e("/9aa"),r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return NaN;if(o(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=o(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(r,"");var e=c.test(n);return e||a.test(n)?u(n.slice(2),e?2:8):s.test(n)?NaN:+n}}}]);