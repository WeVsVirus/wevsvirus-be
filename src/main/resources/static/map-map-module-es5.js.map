{"version":3,"sources":["src/app/map/map.component.html","src/app/map/modal/modal.component.html","src/app/tabs/map/map.page.html","src/app/map/map.component.scss","src/app/map/map.component.ts","src/app/map/map.module.ts","src/app/map/modal/modal.component.scss","src/app/map/modal/modal.component.ts","src/app/tabs/map/map.module.ts","src/app/tabs/map/map.page.scss","src/app/tabs/map/map.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ng-container *ngIf=\\\"questionId$ | async as questionId\\\">\\n    <ion-fab horizontal=\\\"start\\\" vertical=\\\"top\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"primary\\\">{{questionService.getMoodById(questionId)?.emoji}}</ion-fab-button>\\n        <ion-fab-list side=\\\"bottom\\\">\\n            <ion-fab-button *ngFor=\\\"let q of questionService.moodQuestions\\\"\\n                            color=\\\"light\\\"\\n                            (click)=\\\"selectQuestion(q)\\\">{{q.emoji}}</ion-fab-button>\\n        </ion-fab-list>\\n    </ion-fab>\\n    <!--<ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"secondary\\\" (click)=\\\"toggleZoom()\\\">\\n            <ion-icon [name]=\\\"zoomed ? 'contract-outline' : 'expand-outline'\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>-->\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"slides$ | async as slides\\\">\\n    <ion-slides #slider pager=\\\"true\\\"\\n                [options]=\\\"{initialSlide: slides.length - 1}\\\"\\n                (ionSlideDidChange)=\\\"onSlideDidChange(slider)\\\">\\n        <ion-slide class=\\\"slide\\\" *ngFor=\\\"let slide of slides\\\">\\n            <div class=\\\"svg-container\\\" [ngClass]=\\\"{zoomed: zoomed}\\\" [innerHTML]=\\\"slide.svg\\\"></div>\\n        </ion-slide>\\n    </ion-slides>\\n</ng-container>\\n\\n<ul class=\\\"legend\\\">\\n    <li *ngFor=\\\"let color of legend\\\" [ngStyle]=\\\"{backgroundColor: color.color}\\\">{{color.boundary}}</li>\\n</ul>\\n\"","export default \"<ng-container *ngIf=\\\"vm$ | async as vm\\\">\\n    <ion-header translucent>\\n        <ion-toolbar>\\n            <ion-title (click)=\\\"showPicker(vm.plz)\\\">Postleitzahl {{vm.plz}}XXX</ion-title>\\n            <ion-buttons slot=\\\"start\\\">\\n                <ion-button (click)=\\\"close()\\\">zurück</ion-button>\\n            </ion-buttons>\\n        </ion-toolbar>\\n    </ion-header>\\n    <ion-content fullscreen [scrollY]=\\\"true\\\" [scrollX]=\\\"false\\\" style=\\\"background: red\\\">\\n\\n        <ion-slides pager=\\\"true\\\" [options]=\\\"{initialSlide: initialSlide}\\\">\\n            <ion-slide class=\\\"slide\\\" *ngFor=\\\"let answerSet of vm.answers\\\">\\n\\n                <ion-card>\\n                    <ion-card-header>\\n                        <ion-card-title>{{answerSet.date}}</ion-card-title>\\n                    </ion-card-header>\\n\\n                    <ion-card-content>\\n                        <ion-list *ngFor=\\\"let q of questionService.moodQuestions\\\" mode=\\\"md\\\">\\n                            <ion-label>{{q.emoji}} {{q.question}}</ion-label>\\n                            <ion-progress-bar *ngIf=\\\"answerSet.data[q.id] >= 0; else elseBlock\\\"\\n                                              [value]=\\\"answerSet.data[q.id] / 100\\\"></ion-progress-bar>\\n                            <ng-template #elseBlock>\\n                                <ion-progress-bar color=\\\"medium\\\"></ion-progress-bar>\\n                            </ng-template>\\n                        </ion-list>\\n                    </ion-card-content>\\n                </ion-card>\\n\\n            </ion-slide>\\n        </ion-slides>\\n\\n    </ion-content>\\n</ng-container>\\n\\n\"","export default \"<ion-header>\\n    <ion-header>\\n        <ion-toolbar>\\n            <ion-buttons slot=\\\"start\\\">\\n                <ion-menu-button></ion-menu-button>\\n            </ion-buttons>\\n            <ion-title>{{title}}</ion-title>\\n        </ion-toolbar>\\n    </ion-header>\\n</ion-header>\\n\\n<ion-content [scrollY]=\\\"false\\\" [scrollX]=\\\"false\\\">\\n    <app-map (slideChange)=\\\"title = $event.label\\\"></app-map>\\n</ion-content>\\n\"","export default \":host {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n\\nion-slides {\\n  height: 100%;\\n  width: 100vw;\\n}\\n\\nion-fab-button {\\n  font-size: 1.8rem;\\n}\\n\\n.slide {\\n  display: flex;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.slide highcharts-chart {\\n  display: block;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.slide .svg-container {\\n  display: block;\\n  height: 100%;\\n  width: 100%;\\n  padding: 2rem 1rem;\\n}\\n\\n.legend {\\n  position: absolute;\\n  bottom: 0.5rem;\\n  right: 0.5rem;\\n  z-index: 100;\\n  list-style: none;\\n  box-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.2);\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.legend li {\\n  color: var(--ion-color-light);\\n  text-align: center;\\n  padding: 5px;\\n  font-size: 0.7rem;\\n}\\n\\n.legend li:nth-child(-n+3) {\\n  color: var(--ion-color-dark);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rc2NoZWNrZXIvUHJvamVjdHMvd2lydnN2aXJ1cy93aWVnZWh0cy9zcmMvYXBwL21hcC9tYXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21hcC9tYXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsaUJBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQ0NGOztBRENFO0VBQ0UsY0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDQ0o7O0FERUU7RUFDRSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ0FKOztBREtBO0VBRUUsa0JBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFFQSxnQkFBQTtFQUNBLDhDQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7QUNKRjs7QURNRTtFQUNFLDZCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUNKSjs7QURNSTtFQUNFLDRCQUFBO0FDSk4iLCJmaWxlIjoic3JjL2FwcC9tYXAvbWFwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbmlvbi1zbGlkZXMge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDB2dztcbn1cblxuaW9uLWZhYi1idXR0b24ge1xuICBmb250LXNpemU6IDEuOHJlbTtcbn1cblxuLnNsaWRlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcblxuICBoaWdoY2hhcnRzLWNoYXJ0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuc3ZnLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDJyZW0gMXJlbTtcbiAgfVxuXG59XG5cbi5sZWdlbmQge1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwLjVyZW07XG4gIHJpZ2h0OiAwLjVyZW07XG4gIHotaW5kZXg6IDEwMDtcblxuICBsaXN0LXN0eWxlOiBub25lO1xuICBib3gtc2hhZG93OiAwcHggMHB4IDhweCAwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG5cbiAgbGkge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgZm9udC1zaXplOiAwLjdyZW07XG5cbiAgICAmOm50aC1jaGlsZCgtbiszKSB7XG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgIH1cbiAgfVxufVxuIiwiOmhvc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbmlvbi1zbGlkZXMge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDB2dztcbn1cblxuaW9uLWZhYi1idXR0b24ge1xuICBmb250LXNpemU6IDEuOHJlbTtcbn1cblxuLnNsaWRlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbn1cbi5zbGlkZSBoaWdoY2hhcnRzLWNoYXJ0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG59XG4uc2xpZGUgLnN2Zy1jb250YWluZXIge1xuICBkaXNwbGF5OiBibG9jaztcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMnJlbSAxcmVtO1xufVxuXG4ubGVnZW5kIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDAuNXJlbTtcbiAgcmlnaHQ6IDAuNXJlbTtcbiAgei1pbmRleDogMTAwO1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBib3gtc2hhZG93OiAwcHggMHB4IDhweCAwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG4ubGVnZW5kIGxpIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNXB4O1xuICBmb250LXNpemU6IDAuN3JlbTtcbn1cbi5sZWdlbmQgbGk6bnRoLWNoaWxkKC1uKzMpIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbn0iXX0= */\"","import {Component, EventEmitter, HostListener, Output, ViewChild} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject, combineLatest, from, Observable} from 'rxjs';\nimport * as moment from 'moment';\nimport {sortBy} from 'lodash';\nimport {map} from 'rxjs/operators';\nimport {IonSlides, ModalController} from '@ionic/angular';\nimport {Question, QuestionService} from '../services/question.service';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {MapModalComponent} from './modal/modal.component';\nimport {ApiService} from '../services/api.service';\n\n/**\n * https://mapshaper.org/\n */\n\n@Component({\n    selector: 'app-map',\n    templateUrl: './map.component.html',\n    styleUrls: ['./map.component.scss'],\n})\nexport class MapComponent {\n\n    constructor(\n        private readonly http: HttpClient,\n        private readonly api: ApiService,\n        private readonly questionService: QuestionService,\n        private readonly domSanitizer: DomSanitizer,\n        private readonly modalController: ModalController,\n    ) {\n    }\n\n    private static readonly daysToShow = 6;\n\n    @ViewChild('slider', null)\n    slider: IonSlides;\n\n    private readonly dates: moment.Moment[] = Array\n        .from(new Array(MapComponent.daysToShow - 1))\n        .reduce((dates) => [\n            ...dates,\n            dates[dates.length - 1].clone().subtract(1, 'day'),\n        ], [moment().subtract(1, 'day')])\n        .reverse();\n\n    private readonly svg$ = this.http\n        .get('./assets/geo/germany.svg', {responseType: 'text'})\n        .pipe(map((svgText) => {\n            const parser = new DOMParser();\n            return (parser.parseFromString(svgText, 'text/xml'));\n        }));\n\n    private zoomed = false;\n\n    private legend = [\n        {boundary: 1, color: '#BCFFF7'},\n        {boundary: 20, color: '#56FFEB'},\n        {boundary: 40, color: '#00EFD3'},\n        {boundary: 60, color: '#00BCA6'},\n        {boundary: 80, color: '#008979'},\n        {boundary: 100, color: '#195750'},\n    ];\n\n    private readonly questionId$ = new BehaviorSubject('72eciMp5RMiA2u5dfwgtAX');\n    private readonly data$ = this.fetchData();\n\n    @Output()\n    private readonly slideChange = new EventEmitter<{ label: string }>();\n\n    private readonly slides$ = combineLatest([\n        this.svg$,\n        this.data$,\n        this.questionId$,\n    ]).pipe(map(([svg, dataSet, questionId]) => dataSet.map(([date, data]) => ({\n        date,\n        svg: this.computeSVG(svg, data[questionId]),\n    }))));\n\n    @HostListener('click', ['$event.target.tagName', '$event.target.dataset', '$event.target'])\n    async onClick(tagName: string, dataSet: { plz: string }) {\n\n        if (tagName !== 'path') {\n            return;\n        }\n\n        const modal = await this.modalController.create({\n            component: MapModalComponent,\n            componentProps: {\n                ...dataSet,\n                initialSlide: await this.slider.getActiveIndex(),\n                data: await this.data$.toPromise(),\n            },\n            swipeToClose: true,\n        });\n\n        await modal.present();\n    }\n\n    private async onSlideDidChange(slider: IonSlides) {\n        const label = this.dates[await slider.getActiveIndex()].locale('de-DE').format('dd, DD.MM.YYYY');\n        this.slideChange.emit({label});\n    }\n\n    private selectQuestion(q: Question) {\n        this.questionId$.next(q.id);\n    }\n\n    private fetchData(): Observable<any> {\n        return from(Promise.all(this.dates.map(async mom => {\n            const responseDate = mom.format('YYYY-MM-DD');\n            const responseData = await this.api.getHeat(responseDate);\n            return [responseDate, responseData];\n        })));\n    }\n\n    private computeSVG(svg: Document, data: any) {\n\n        this.setStyle(svg.querySelectorAll('path'), {\n            fill: '#f7f7f7',\n            stroke: '#cccccc',\n        });\n\n        for (const [plz, value] of data || []) {\n            if (value > 0) {\n                const nodes = svg.querySelectorAll(`[data-plz=\"${plz}\"]`) as NodeListOf<SVGPathElement>;\n                this.setStyle(nodes, {fill: this.getColorByValue(value)});\n            }\n        }\n\n        const str = new XMLSerializer().serializeToString(svg);\n        return this.domSanitizer.bypassSecurityTrustHtml(str);\n    }\n\n    private setStyle(nodes: NodeListOf<SVGPathElement>, style: {}) {\n        for (const node of Array.from(nodes)) {\n            Object.assign(node.style, style);\n        }\n    }\n\n    private getColorByValue = (value: number): string => sortBy(this.legend, 'boundary')\n        .find(({boundary}) => value <= boundary).color;\n\n    private async toggleZoom() {\n        this.zoomed = !this.zoomed;\n        await this.slider.lockSwipes(this.zoomed);\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MapComponent} from './map.component';\nimport {HttpClientModule} from '@angular/common/http';\nimport {IonicModule} from '@ionic/angular';\nimport {MapModalComponent} from './modal/modal.component';\n\n\n@NgModule({\n    declarations: [\n        MapComponent,\n        MapModalComponent,\n    ],\n    imports: [\n        CommonModule,\n        IonicModule,\n        HttpClientModule,\n    ],\n    exports: [\n        MapComponent,\n    ],\n    entryComponents: [\n        MapModalComponent,\n    ],\n})\nexport class MapModule {\n}\n","export default \"ion-slides {\\n  height: 100%;\\n  background: transparent;\\n}\\nion-slides:after {\\n  content: \\\" \\\";\\n  background: url('germany.svg') center center no-repeat;\\n  background-size: contain;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  opacity: 0.02;\\n  z-index: -1;\\n}\\nion-list {\\n  text-align: left;\\n}\\nion-list ion-progress-bar {\\n  margin-top: 0.1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rc2NoZWNrZXIvUHJvamVjdHMvd2lydnN2aXJ1cy93aWVnZWh0cy9zcmMvYXBwL21hcC9tb2RhbC9tb2RhbC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFwL21vZGFsL21vZGFsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLHVCQUFBO0FDQ0Y7QURDRTtFQUNFLFlBQUE7RUFDQSxzREFBQTtFQUNBLHdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7QUNDSjtBREdBO0VBQ0UsZ0JBQUE7QUNBRjtBREVFO0VBQ0Usa0JBQUE7QUNBSiIsImZpbGUiOiJzcmMvYXBwL21hcC9tb2RhbC9tb2RhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1zbGlkZXMge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuXG4gICY6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICcgJztcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uLy4uL2Fzc2V0cy9nZW8vZ2VybWFueS5zdmcnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICBvcGFjaXR5OiAwLjAyO1xuICAgIHotaW5kZXg6IC0xO1xuICB9XG59XG5cbmlvbi1saXN0IHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcblxuICBpb24tcHJvZ3Jlc3MtYmFyIHtcbiAgICBtYXJnaW4tdG9wOiAwLjFyZW1cbiAgfVxufVxuIiwiaW9uLXNsaWRlcyB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5pb24tc2xpZGVzOmFmdGVyIHtcbiAgY29udGVudDogXCIgXCI7XG4gIGJhY2tncm91bmQ6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9nZW8vZ2VybWFueS5zdmdcIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIG9wYWNpdHk6IDAuMDI7XG4gIHotaW5kZXg6IC0xO1xufVxuXG5pb24tbGlzdCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5pb24tbGlzdCBpb24tcHJvZ3Jlc3MtYmFyIHtcbiAgbWFyZ2luLXRvcDogMC4xcmVtO1xufSJdfQ== */\"","import {Component, Input, OnInit} from '@angular/core';\nimport {ModalController, PickerController} from '@ionic/angular';\nimport {QuestionService} from '../../services/question.service';\nimport {combineLatest, Subject} from 'rxjs';\nimport * as moment from 'moment';\nimport {map} from 'rxjs/operators';\n\n@Component({\n    templateUrl: './modal.component.html',\n    styleUrls: ['./modal.component.scss'],\n})\nexport class MapModalComponent implements OnInit {\n\n    @Input()\n    plz: string;\n\n    @Input()\n    data: Array<[string, {}]>;\n\n    @Input()\n    initialSlide: number;\n\n    @Input()\n    answers: {\n        [key: string]: any\n    };\n\n    showSlider = false;\n\n    private readonly plz$ = new Subject();\n\n    private readonly answers$ = this.plz$.pipe(map((plz) => {\n        return this.data.map(([date, data]) => {\n            const reducedDataSet = Object.entries(data).reduce((acc, [qId, a]) => {\n                const dp = (a as any).find(([p]) => p === plz);\n\n                return ({\n                    ...acc,\n                    [qId]: dp ? dp[1] : undefined,\n                });\n            }, {});\n\n            return {date: moment(date).locale('de-DE').format('dd, DD.MM.YYYY'), data: reducedDataSet};\n        });\n    }));\n\n    public readonly vm$ = combineLatest([this.plz$, this.answers$]).pipe(map(([plz, answers]) => ({plz, answers})));\n\n    constructor(\n        private readonly modalController: ModalController,\n        private readonly questionService: QuestionService,\n        private readonly pickerController: PickerController,\n    ) {\n    }\n\n    public async close() {\n        (await this.modalController.getTop()).dismiss();\n    }\n\n    public async showPicker(zip: string) {\n\n        const zips = [...new Set(Array\n            .from(document.querySelectorAll<SVGPathElement>(`path[data-plz]`))\n            .map(c => c.dataset.plz))]\n            .sort();\n\n        (await this.pickerController.create({\n            columns: [{\n                name: 'plz',\n                selectedIndex: zips.indexOf(zip),\n                options: zips.map(plz => ({\n                    text: plz + 'XXX',\n                    value: plz,\n                })),\n            }],\n            buttons: [\n                {\n                    text: 'Abbrechen',\n                    role: 'cancel',\n                },\n                {\n                    text: 'Übernehmen',\n                    handler: v => this.plz$.next(v.plz.value),\n                },\n            ],\n        })).present();\n    }\n\n    ngOnInit(): void {\n        setTimeout(() => {\n            this.plz$.next(this.plz);\n            this.showSlider = true;\n        }, 0);\n    }\n\n    private getColumns(numColumns, numOptions, columnOptions) {\n        const columns = [];\n        for (let i = 0; i < numColumns; i++) {\n            columns.push({\n                name: `col-${i}`,\n                options: this.getColumnOptions(i, numOptions, columnOptions),\n            });\n        }\n\n        return columns;\n    }\n\n    private getColumnOptions(columnIndex, numOptions, columnOptions) {\n        const options = [];\n        for (let i = 0; i < numOptions; i++) {\n            options.push({\n                text: columnOptions[columnIndex][i % numOptions],\n                value: i,\n            });\n        }\n\n        return options;\n    }\n\n\n}\n","import {IonicModule} from '@ionic/angular';\nimport {RouterModule} from '@angular/router';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {MapPage} from './map.page';\nimport {MapModule} from '../../map/map.module';\n\n@NgModule({\n    imports: [\n        IonicModule,\n        CommonModule,\n        FormsModule,\n        MapModule,\n        RouterModule.forChild([{path: '', component: MapPage}]),\n    ],\n    declarations: [MapPage],\n})\nexport class MapPageModule {\n}\n","export default \"ion-content ion-toolbar {\\n  --background: translucent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rc2NoZWNrZXIvUHJvamVjdHMvd2lydnN2aXJ1cy93aWVnZWh0cy9zcmMvYXBwL3RhYnMvbWFwL21hcC5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYnMvbWFwL21hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvdGFicy9tYXAvbWFwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn0iLCJpb24tY29udGVudCBpb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNsdWNlbnQ7XG59Il19 */\"","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: 'map.page.html',\n  styleUrls: ['map.page.scss']\n})\nexport class MapPage {\n\n}\n"],"sourceRoot":"webpack:///","file":"map-map-module-es5.js"}