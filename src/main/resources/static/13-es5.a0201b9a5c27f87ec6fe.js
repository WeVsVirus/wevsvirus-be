function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/9aa":function(n,e,t){var o=t("NykK"),i=t("ExA7");n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==o(n)}},AP2z:function(n,e,t){var o=t("nmnc"),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;n.exports=function(n){var e=r.call(n,s),t=n[s];try{n[s]=void 0;var o=!0}catch(c){}var i=a.call(n);return o&&(e?n[s]=t:delete n[s]),i}},ExA7:function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},GoyQ:function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},KfNM:function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},Kz5y:function(n,e,t){var o=t("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();n.exports=r},NykK:function(n,e,t){var o=t("nmnc"),i=t("AP2z"),r=t("KfNM"),a=o?o.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?i(n):r(n)}},QIyF:function(n,e,t){var o=t("Kz5y");n.exports=function(){return o.Date.now()}},RtRw:function(n,e,t){"use strict";t.r(e);var o,i=t("ofXK"),r=t("3Pt+"),a=t("TEn/"),s=t("tyNb"),c=t("mrSG"),u=t("sEfC"),l=t.n(u),b=t("fXoL"),f=t("tk/3"),p=((o=function(){function n(e){_classCallCheck(this,n),this.http=e,this.baseUrl="http://".concat(window.location.hostname,":8080")}return _createClass(n,[{key:"save",value:function(n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.post(this.baseUrl+"/questionnaire",n).toPromise();case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)})))}}]),n}()).\u0275fac=function(n){return new(n||o)(b.Sb(f.a))},o.\u0275prov=b.Fb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),h=t("qfBg"),d=t("UcdY");function v(n,e){if(1&n){var t=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.kc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",4),b.Wb("ionChange",(function(n){b.gc(t);var o=e.$implicit;return b.Yb().onRangeChange(o.id,n.detail.value)})),b.Ob(7,"ion-label",5),b.kc(8),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){var o=e.$implicit;b.zb(4),b.mc(" ",o.question," "),b.zb(4),b.lc(o.emoji)}}var g,m=((g=function(){function n(e){_classCallCheck(this,n),this.questionService=e,this.questions=[],this.onChange=new b.n}return _createClass(n,[{key:"ngOnInit",value:function(){this.questions=this.questionService.getAllMoodQuestions()}},{key:"onRangeChange",value:function(n,e){this.onChange.emit(this.questions.map((function(t){return t.id===n&&(t.value=e),t})))}}]),n}()).\u0275fac=function(n){return new(n||g)(b.Jb(d.a))},g.\u0275cmp=b.Db({type:g,selectors:[["quest-form"]],outputs:{onChange:"onChange"},decls:9,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["expand","full","routerLink","schland"],["color","secondary","pin","true",3,"ionChange"],["slot","end",1,"emoji"]],template:function(n,e){1&n&&(b.Ob(0,"ion-grid"),b.jc(1,v,9,2,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.kc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Ob(6,"ion-col",1),b.Ob(7,"ion-button",3),b.kc(8,"Zur Heatmap"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",e.questions))},directives:[a.m,i.h,a.x,a.h,a.f,a.N,s.h,a.s,a.u,a.v,a.O],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),g);function O(n,e){if(1&n){var t=b.Pb();b.Ob(0,"ion-row"),b.Ob(1,"ion-col",1),b.Ob(2,"ion-item-divider"),b.Ob(3,"ion-label"),b.kc(4),b.Nb(),b.Nb(),b.Nb(),b.Ob(5,"ion-col",1),b.Ob(6,"ion-range",4,5),b.Wb("ionChange",(function(n){b.gc(t);var o=e.$implicit,i=b.ec(7);return b.Yb().onRangeChange(i,o.id,n.detail.value)})),b.Ob(8,"ion-label",6),b.kc(9),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&n){var o=e.$implicit;b.zb(4),b.mc(" ",o.question," "),b.zb(2),b.bc("max",1200)("step",15)("snaps",!0),b.zb(3),b.lc(o.emoji)}}var y,C=((y=function(){function n(e){_classCallCheck(this,n),this.questionService=e,this.questions=[],this.onChange=new b.n}return _createClass(n,[{key:"ngOnInit",value:function(){this.questions=this.questionService.getAllHealthQuestions()}},{key:"onRangeChange",value:function(n,e,t){var o=new Date(0,0);o.setMinutes(n.value),n.el.shadowRoot.querySelector(".range-knob-handle .range-pin").innerHTML=o.toTimeString().slice(0,5),this.onChange.emit(this.questions.map((function(n){return n.id===e&&(n.value=t),n})))}}]),n}()).\u0275fac=function(n){return new(n||y)(b.Jb(d.a))},y.\u0275cmp=b.Db({type:y,selectors:[["quest-health"]],outputs:{onChange:"onChange"},decls:9,vars:1,consts:[[4,"ngFor","ngForOf"],["size","12"],["expand","full","routerLink","personal-report"],["expand","full","routerLink","schland"],["color","secondary","pin","true",3,"max","step","snaps","ionChange"],["slider",""],["slot","end",1,"emoji"]],template:function(n,e){1&n&&(b.Ob(0,"ion-grid"),b.jc(1,O,10,5,"ion-row",0),b.Ob(2,"ion-row"),b.Ob(3,"ion-col",1),b.Ob(4,"ion-button",2),b.kc(5,"Zur eigenen Auswertung"),b.Nb(),b.Nb(),b.Ob(6,"ion-col",1),b.Ob(7,"ion-button",3),b.kc(8,"Zur Heatmap"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.zb(1),b.bc("ngForOf",e.questions))},directives:[a.m,i.h,a.x,a.h,a.f,a.N,s.h,a.s,a.u,a.v,a.O],styles:["ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}ion-range[_ngcontent-%COMP%]{padding-top:10px}.emoji[_ngcontent-%COMP%]{font-size:2rem}"]}),y);function w(n,e){if(1&n){var t=b.Pb();b.Ob(0,"quest-form",6),b.Wb("onChange",(function(n){return b.gc(t),b.Yb().onMoodResponse(n)})),b.Nb()}}function k(n,e){if(1&n){var t=b.Pb();b.Ob(0,"quest-health",6),b.Wb("onChange",(function(n){return b.gc(t),b.Yb().onHealthResponse(n)})),b.Nb()}}var N,x,j=[{path:"",component:(N=function(){function n(e,t){_classCallCheck(this,n),this.userService=e,this.questService=t,this.mode="moode"}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.state={userId:this.userService.user.id,responseDate:(new Date).toISOString().substring(0,10),moodResponses:[],healthResponses:[]},this.debouncedSave=l()((function(){n.questService.save(n.state)}),200)}},{key:"onMoodResponse",value:function(n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.moodResponses=n.map((function(n){return{questionId:n.id,response:n.value}})),this.debouncedSave();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onHealthResponse",value:function(n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.healthResponses=n.map((function(n){return{questionId:n.id,response:n.value}})),this.debouncedSave();case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(),N.\u0275fac=function(n){return new(n||N)(b.Jb(h.a),b.Jb(p))},N.\u0275cmp=b.Db({type:N,selectors:[["app-questionnaire"]],inputs:{mode:"mode"},decls:11,vars:3,consts:[[3,"value","ionChange"],["value","moode"],["value","health"],[3,"ngSwitch"],[3,"onChange",4,"ngSwitchCase"],[3,"onChange",4,"ngSwitchDefault"],[3,"onChange"]],template:function(n,e){1&n&&(b.Ob(0,"ion-content"),b.Ob(1,"ion-segment",0),b.Wb("ionChange",(function(n){return e.mode=n.detail.value})),b.Ob(2,"ion-segment-button",1),b.Ob(3,"ion-label"),b.kc(4,"Stimmung"),b.Nb(),b.Nb(),b.Ob(5,"ion-segment-button",2),b.Ob(6,"ion-label"),b.kc(7,"Aktivit\xe4t"),b.Nb(),b.Nb(),b.Nb(),b.Mb(8,3),b.jc(9,w,1,0,"quest-form",4),b.jc(10,k,1,0,"quest-health",5),b.Lb(),b.Nb()),2&n&&(b.zb(1),b.bc("value",e.mode),b.zb(7),b.bc("ngSwitch",e.mode),b.zb(1),b.bc("ngSwitchCase","moode"))},directives:[a.i,a.y,a.O,a.z,a.u,i.j,i.k,i.l,m,C],styles:[""]}),N)}],q=((x=function n(){_classCallCheck(this,n)}).\u0275mod=b.Hb({type:x}),x.\u0275inj=b.Gb({factory:function(n){return new(n||x)},imports:[[s.i.forChild(j)],s.i]}),x);t.d(e,"QuestionnairePageModule",(function(){return _}));var S,_=((S=function n(){_classCallCheck(this,n)}).\u0275mod=b.Hb({type:S}),S.\u0275inj=b.Gb({factory:function(n){return new(n||S)},imports:[[i.b,r.a,a.K,q]]}),S)},WFqU:function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},nmnc:function(n,e,t){var o=t("Kz5y");n.exports=o.Symbol},sEfC:function(n,e,t){var o=t("GoyQ"),i=t("QIyF"),r=t("tLB3"),a=Math.max,s=Math.min;n.exports=function(n,e,t){var c,u,l,b,f,p,h=0,d=!1,v=!1,g=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function m(e){var t=c,o=u;return c=u=void 0,h=e,b=n.apply(o,t)}function O(n){return h=n,f=setTimeout(C,e),d?m(n):b}function y(n){var t=n-p;return void 0===p||t>=e||t<0||v&&n-h>=l}function C(){var n=i();if(y(n))return w(n);f=setTimeout(C,function(n){var t=e-(n-p);return v?s(t,l-(n-h)):t}(n))}function w(n){return f=void 0,g&&c?m(n):(c=u=void 0,b)}function k(){var n=i(),t=y(n);if(c=arguments,u=this,p=n,t){if(void 0===f)return O(p);if(v)return clearTimeout(f),f=setTimeout(C,e),m(p)}return void 0===f&&(f=setTimeout(C,e)),b}return e=r(e)||0,o(t)&&(d=!!t.leading,l=(v="maxWait"in t)?a(r(t.maxWait)||0,e):l,g="trailing"in t?!!t.trailing:g),k.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=p=u=f=void 0},k.flush=function(){return void 0===f?b:w(i())},k}},tLB3:function(n,e,t){var o=t("GoyQ"),i=t("/9aa"),r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return NaN;if(o(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=o(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(r,"");var t=s.test(n);return t||c.test(n)?u(n.slice(2),t?2:8):a.test(n)?NaN:+n}}}]);